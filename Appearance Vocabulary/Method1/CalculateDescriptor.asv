function [ descriptor ] = CalculateDescriptor( I, landmarkLocation, M, sigma )
% descriptor - 128 x 1

x = landmarkLocation(1,2);
y = landmarkLocation(1,1);
landmarksPatch = imcrop(I,[y-((M-1)/2),x-((M/2),M,M]);

landmarksPatchSmooth = imsmooth(landmarksPatch,sigma);

% x - 1 and y - 1 because the siftdescriptor works in (0,0) based axis
% system
% -pi/2 : the patch is not rotated
P = [x - 1, y - 1, -pi/2];
descriptor = siftdescriptor(landmarksPatchSmooth,P,sigma);

end

